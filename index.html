<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Best Price for Similar Products</title>
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"></script>

	  
	</head>
	<body>
		<h3>
		  Best Price for Similar Products
		</h3>
		<h6>
		  Get the best price for multiple similar items.
		</h6>
    <div class="container">
		<table id="myTable" class=" table order-list">
			<thead>
				<tr>
					<th>Price</th>
					<th>Weight/volume</th>
					<th>Unit</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td class="col-sm-4">
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text">$</span>
							</div>
							<input type="number" name="price0" class="form-control">
						</div> 
					</td>
					<td class="col-sm-4">
						<input type="number" name="unitvalue0" class="form-control">
					</td>
					<td class="col-sm-3">
						<select class="form-control" name="unit0">
							<option value="kg">Kilogram(s)</option>
							<option value="g">gram(s)</option>
							<option value="m">meter(s)</option>
							<option value="cm">centimeter(s)</option>
						</select>
					</td>
					<td class="col-sm-2"><a class="deleteRow"></a></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="5" style="text-align: left;">
						<input type="button" class="btn btn-lg btn-block btn-primary" id="addrow" value="Add Another Item">
					</td>
				</tr>
				<tr>
				</tr>
			</tfoot>
		</table>
	</div>

	<input type="button" class="btn btn-lg btn-block btn-primary" id="bestprice" value="Get Best Price">
    <script type="text/javascript">//<![CDATA[
		$(document).ready(function () {
			var counter = 1;

			$("#addrow").on("click", function () {
				var newRow = $("<tr>");
				var cols = "";

				cols += '<td class="col-sm-4"><div class="input-group mb-3"> <div class="input-group-prepend"> <span class="input-group-text">$</span> </div> <input type="number" name="price' + counter + '" class="form-control" /> </div> </td>';
				cols += '<td class="col-sm-4"><input type="number" class="form-control" name="unitvalue' + counter + '"/></td>';
				cols += '<td class="col-sm-3"><select class="form-control" name="unit' + counter + '"> <option value="kg">Kilogram(s)</option> <option value="g">gram(s)</option> <option value="m">meter(s)</option> <option value="cm">centimeter(s)</option> </select></td>';

				cols += '<td class="col-sm-2"><input type="button" class="ibtnDel btn btn-md btn-danger"  value="Delete"></td>';
				newRow.append(cols);
				$("table.order-list").append(newRow);
				counter++;
			});

			$("table.order-list").on("click", ".ibtnDel", function (event) {
				$(this).closest("tr").remove();       
				counter -= 1
			});
			
			$("#bestprice").on("click", function () {   
				var i;
				var price = [];
				var unitvalue = [];
				var unit = [];
				for (i = 0; i < counter; i++) {
					//alert(document.getElementsByName('price'+i)[0].value);
					price[i] = document.getElementsByName('price'+i)[0].value;
					unitvalue[i] = document.getElementsByName('unitvalue'+i)[0].value;
					unit[i] = document.getElementsByName('unit'+i)[0].value;
					alert('Price:'+price[i]+' value:'+unitvalue[i]+' unit:'+unit[i]);
				}  
			});
		});
  //]]></script>
	</body>
</html>